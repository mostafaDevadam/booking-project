<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button color="medium" (click)="close()">Cancel</ion-button>
    </ion-buttons>
    <ion-title>{{isEdit ? "Edit Booking" : "View Booking"}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <div *ngIf="isView">
    Booking Info

    <p>display two tabs: Booking-Tab , Notes-Tab</p>

    <p>nights: {{data.nights}}</p>
    <p>start_date: {{data.start_date}}</p>
    <p>end_date: {{data.end_date}}</p>
    <p>isCheckedIn: {{ data.isCheckedIn}}</p>
    <p>isCheckedOut: {{ data.isCheckedOut}}</p>
    <p>isConfirmed: {{ data.isConfirmed}}</p>
    <p>isPaid: {{ data.isPaid}}</p>
    <p>checkedIn_date: {{ data.checkedIn_date}}</p>
    <p>checkedOut_date: {{data.checkedOut_date}}</p>
    <p>confirmed_date: {{data.confirmed_date}}</p>
    <p>paid_date: {{data.paid_date}}</p>
    <p>total_price: {{data.total_price}}</p>





    <ion-text class="ion-text-center">
      <h4> Notes</h4>
    </ion-text>


    <ion-toolbar>
      <!--<ion-buttons slot="start">
        <ion-button>Notes</ion-button>
        <ion-button>Guest Notes</ion-button>
      </ion-buttons>-->
      <!-- ion-select enum['all','hotel','guest']-->
      <ion-item>
        <ion-select label="Notes As" placeholder="Choose One" [(ngModel)]="currentNoteRole" (ionChange)="changeNoteRole()" >
          <div *ngFor="let item of note_role_keys">
            <ion-select-option value={{item}}> {{item}}</ion-select-option>
          </div>
        </ion-select>
      </ion-item>
    </ion-toolbar>

    <div *ngFor="let item of notes">
      <ion-card>
        <ion-card-content>
          <div class="m-flex">

            <ion-row>
              <ion-col size="1">

                <div>

                </div>

              </ion-col>
              <ion-col size="11">

                <div>
                  <ion-text>
                    {{ item.content ? item.content : 'content Lorem ipsum dolor sit amet consectetur adipisicing
                    elit.'}}
                  </ion-text>
                  <ion-text>

                    @if (item.isPublic) {

                    }
                    <ion-chip>{{item.isPublic ? "public" : "private"}}</ion-chip>

                  </ion-text>
                </div>

              </ion-col>

            </ion-row>


          </div>
        </ion-card-content>

        <ion-toolbar (click)="selectNote(item)" *ngIf="currentNoteRole === 'hotel' ">
          <ion-buttons slot="start">
            <ion-button (click)="setOpen(true)">Edit</ion-button>
          </ion-buttons>
          <ion-buttons slot="end">
            <ion-button (click)="openAlert('remove', item)">Remove</ion-button>
          </ion-buttons>
        </ion-toolbar>


      </ion-card>
    </div>




  </div>

  <div *ngIf="isEdit">
    <app-booking-form [data]="data"></app-booking-form>
  </div>

  <ion-button (click)="close()">Close</ion-button>


  <div>
    <ion-modal [isOpen]="isModalOpen">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>Modal</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="setOpen(false)">Close</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding">

          <div>
            <form [formGroup]="noteForm" (ngSubmit)="submitNoteForm()">

              <ion-list>
                <ion-item>
                  <!--<ion-checkbox labelPlacement="start" formControlName="isPublic">Public</ion-checkbox>-->
                  <ion-toggle labelPlacement="start" formControlName="isPublic">Public</ion-toggle>
                </ion-item>

                <ion-item>
                  <ion-textarea rows="3" cols="40" label="Note" formControlName="content"></ion-textarea>
                </ion-item>
              </ion-list>

              <div class="">
                <ion-buttons slot="end">
                  <ion-button type="submit">Update Note</ion-button>

                </ion-buttons>

              </div>



            </form>

          </div>
        </ion-content>
      </ng-template>
    </ion-modal>
  </div>


</ion-content>
